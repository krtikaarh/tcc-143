{"ast":null,"code":"import React,{useState,useEffect}from'react';import Sidebar from'./components/Sidebar';import NoteForm from'./components/NoteForm';import NoteList from'./components/NoteList';import{layananCatatan}from'./services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[view,setView]=useState('list');const[catatan,setCatatan]=useState([]);const[activeCatatan,setActiveCatatan]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{ambilSemuaCatatan();},[]);const ambilSemuaCatatan=async()=>{try{setLoading(true);const data=await layananCatatan.ambilSemuaCatatan();setCatatan(data);setError(null);}catch(err){setError('Gagal memuat catatan');console.error(err);}finally{setLoading(false);}};const handleNewNote=()=>{setActiveCatatan(null);setView('new');};const handleViewNotes=()=>{setView('list');};const handleSelectCatatan=selectedCatatan=>{setActiveCatatan(selectedCatatan);setView('edit');};const handleSaveCatatan=async dataCatatan=>{try{setLoading(true);if(dataCatatan.id){// Update catatan\nawait layananCatatan.updateCatatan(dataCatatan.id,dataCatatan);}else{// Buat catatan baru\nawait layananCatatan.buatCatatan(dataCatatan);}await ambilSemuaCatatan();setView('list');}catch(err){setError('Gagal menyimpan catatan');console.error(err);}finally{setLoading(false);}};const handleDeleteCatatan=async id=>{if(window.confirm('Apakah Anda yakin ingin menghapus catatan ini?')){try{setLoading(true);await layananCatatan.hapusCatatan(id);await ambilSemuaCatatan();}catch(err){setError('Gagal menghapus catatan');console.error(err);}finally{setLoading(false);}}};const handleEditCatatan=selectedCatatan=>{setActiveCatatan(selectedCatatan);setView('edit');};const renderContent=()=>{if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:error})});}switch(view){case'new':return/*#__PURE__*/_jsx(NoteForm,{onSave:handleSaveCatatan,onCancel:handleViewNotes});case'edit':return/*#__PURE__*/_jsx(NoteForm,{initialCatatan:activeCatatan,onSave:handleSaveCatatan,onCancel:handleViewNotes});case'list':default:return/*#__PURE__*/_jsx(NoteList,{catatan:catatan,onSelect:handleSelectCatatan,onEdit:handleEditCatatan,onDelete:handleDeleteCatatan});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen bg-white\",children:[/*#__PURE__*/_jsx(Sidebar,{onNewNote:handleNewNote,onViewNotes:handleViewNotes,activeView:view==='new'?'new':'list'}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 overflow-y-auto\",children:renderContent()})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Sidebar","NoteForm","NoteList","layananCatatan","jsx","_jsx","jsxs","_jsxs","App","view","setView","catatan","setCatatan","activeCatatan","setActiveCatatan","loading","setLoading","error","setError","ambilSemuaCatatan","data","err","console","handleNewNote","handleViewNotes","handleSelectCatatan","selectedCatatan","handleSaveCatatan","dataCatatan","id","updateCatatan","buatCatatan","handleDeleteCatatan","window","confirm","hapusCatatan","handleEditCatatan","renderContent","className","children","onSave","onCancel","initialCatatan","onSelect","onEdit","onDelete","onNewNote","onViewNotes","activeView"],"sources":["D:/tcc-143/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Sidebar from './components/Sidebar';\r\nimport NoteForm from './components/NoteForm';\r\nimport NoteList from './components/NoteList';\r\nimport { layananCatatan } from './services/api';\r\n\r\nfunction App() {\r\n  const [view, setView] = useState('list'); \r\n  const [catatan, setCatatan] = useState([]);\r\n  const [activeCatatan, setActiveCatatan] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    ambilSemuaCatatan();\r\n  }, []);\r\n\r\n  const ambilSemuaCatatan = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await layananCatatan.ambilSemuaCatatan();\r\n      setCatatan(data);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError('Gagal memuat catatan');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleNewNote = () => {\r\n    setActiveCatatan(null);\r\n    setView('new');\r\n  };\r\n\r\n  const handleViewNotes = () => {\r\n    setView('list');\r\n  };\r\n\r\n  const handleSelectCatatan = (selectedCatatan) => {\r\n    setActiveCatatan(selectedCatatan);\r\n    setView('edit');\r\n  };\r\n\r\n  const handleSaveCatatan = async (dataCatatan) => {\r\n    try {\r\n      setLoading(true);\r\n      if (dataCatatan.id) {\r\n        // Update catatan\r\n        await layananCatatan.updateCatatan(dataCatatan.id, dataCatatan);\r\n      } else {\r\n        // Buat catatan baru\r\n        await layananCatatan.buatCatatan(dataCatatan);\r\n      }\r\n      await ambilSemuaCatatan();\r\n      setView('list');\r\n    } catch (err) {\r\n      setError('Gagal menyimpan catatan');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteCatatan = async (id) => {\r\n    if (window.confirm('Apakah Anda yakin ingin menghapus catatan ini?')) {\r\n      try {\r\n        setLoading(true);\r\n        await layananCatatan.hapusCatatan(id);\r\n        await ambilSemuaCatatan();\r\n      } catch (err) {\r\n        setError('Gagal menghapus catatan');\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEditCatatan = (selectedCatatan) => {\r\n    setActiveCatatan(selectedCatatan);\r\n    setView('edit');\r\n  };\r\n\r\n  const renderContent = () => {\r\n    if (loading) {\r\n      return (\r\n        <div className=\"flex justify-center items-center h-screen\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"></div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <div className=\"flex justify-center items-center h-screen\">\r\n          <div className=\"text-red-500\">{error}</div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    switch (view) {\r\n      case 'new':\r\n        return <NoteForm onSave={handleSaveCatatan} onCancel={handleViewNotes} />;\r\n      case 'edit':\r\n        return <NoteForm initialCatatan={activeCatatan} onSave={handleSaveCatatan} onCancel={handleViewNotes} />;\r\n      case 'list':\r\n      default:\r\n        return (\r\n          <NoteList \r\n            catatan={catatan} \r\n            onSelect={handleSelectCatatan} \r\n            onEdit={handleEditCatatan} \r\n            onDelete={handleDeleteCatatan} \r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-white\">\r\n      <Sidebar \r\n        onNewNote={handleNewNote} \r\n        onViewNotes={handleViewNotes} \r\n        activeView={view === 'new' ? 'new' : 'list'} \r\n      />\r\n      <main className=\"flex-1 overflow-y-auto\">\r\n        {renderContent()}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}